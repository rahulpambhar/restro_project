{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'LogIn',\n\n  data() {\n    return {\n      Email: \"\",\n      Password: \"\"\n    };\n  },\n\n  methods: {\n    async LogIn() {\n      const result = await axios.get(`http://localhost:3000/user?email=${this.Email}&password=${this.Password}`);\n\n      if (result.status == 200 && result.data.length > 0) {\n        localStorage.setItem(\"user -info\", JSON.stringify(result.data[0]));\n        this.$router.push({\n          name: 'Home'\n        });\n      }\n    }\n\n  },\n\n  mounted() {\n    const user = localStorage.getItem('user-info');\n\n    if (user) {\n      this.$router.push({\n        name: 'Home'\n      });\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAsBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EAEXC,IAAI,EAAE,OAFK;;EAGXC,IAAI,GAAG;IACH,OAAO;MACHC,KAAK,EAAE,EADJ;MAEHC,QAAQ,EAAE;IAFP,CAAP;EAIH,CARU;;EASXC,OAAO,EAAE;IACL,MAAMC,KAAN,GAAc;MAEV,MAAMC,MAAK,GAAI,MAAMP,KAAK,CAACQ,GAAN,CAChB,oCAAmC,KAAKL,KAAM,aAAY,KAAKC,QAAS,EADxD,CAArB;;MAGA,IAAIG,MAAM,CAACE,MAAP,IAAiB,GAAjB,IAAwBF,MAAM,CAACL,IAAP,CAAYQ,MAAZ,GAAmB,CAA/C,EAAmD;QAC/CC,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeP,MAAM,CAACL,IAAP,CAAY,CAAZ,CAAf,CAAnC;QACA,KAAKa,OAAL,CAAaC,IAAb,CAAkB;UAAEf,IAAI,EAAE;QAAR,CAAlB;MACJ;IAEJ;;EAXK,CATE;;EAuBXgB,OAAO,GAAG;IAEN,MAAMC,IAAG,GAAIP,YAAY,CAACQ,OAAb,CAAqB,WAArB,CAAb;;IACA,IAAID,IAAJ,EAAU;MACN,KAAKH,OAAL,CAAaC,IAAb,CAAkB;QAAEf,IAAI,EAAE;MAAR,CAAlB;IACJ;EACJ;;AA7BW,CAAf","names":["axios","name","data","Email","Password","methods","LogIn","result","get","status","length","localStorage","setItem","JSON","stringify","$router","push","mounted","user","getItem"],"sourceRoot":"","sources":["/home/ts/Desktop/pract_vue/Restaurants/restro_project/src/components/Login.vue"],"sourcesContent":["<template >\n    <div class=\"row \">\n        <div class=\"col h-25 w-25 text-center mx-auto\">\n            <img class=\"LogoImg\" src=\"../assets/Images/Logo/pattern-on-clay-pot-for-indian-restaurant-6940ld.png\" />\n            <h1 class=\"mt-3 pb-2\">Log In</h1>\n\n            <div class=\"col\">\n                <input class=\"border border-primary\" type=\"text\" placeholder=\"Email\" v-model=\"Email\" /><br /><br />\n                <input class=\"border border-primary\" type=\"text\" placeholder=\"Password\"\n                    v-model=\"Password\" /><br /><br />\n                <button class=\"btn btn-success\" v-on:click=\"LogIn()\">Log In</button>\n            </div>\n            <div class=\"col mt-2 text-light\">\n                <h3 class=\"btn btn-success text-light\">\n                    <router-link to=\"/signup\" class=\"text-light text-decoration-none\">SignUp</router-link>\n                </h3>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n\n    name: 'LogIn',\n    data() {\n        return {\n            Email: \"\",\n            Password: \"\"\n        }\n    },\n    methods: {\n        async LogIn() {\n\n            const result = await axios.get(\n                `http://localhost:3000/user?email=${this.Email}&password=${this.Password}`\n            );\n            if (result.status == 200 && result.data.length>0 ) {\n                localStorage.setItem(\"user -info\", JSON.stringify(result.data[0]))\n                this.$router.push({ name: 'Home' })\n            }       \n          \n        }\n\n    },\n    mounted() {\n\n        const user = localStorage.getItem('user-info')\n        if (user) {\n            this.$router.push({ name: 'Home' })\n        }\n    }\n\n}\n\n</script>"]},"metadata":{},"sourceType":"module"}